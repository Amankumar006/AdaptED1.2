apiVersion: v1
kind: ConfigMap
metadata:
  name: auth-service-config
  namespace: educational-platform
  labels:
    app: auth-service
data:
  # Application configuration
  app.config.json: |
    {
      "service": {
        "name": "auth-service",
        "version": "1.0.0",
        "port": 8080
      },
      "auth": {
        "jwt": {
          "accessTokenExpiry": "15m",
          "refreshTokenExpiry": "7d",
          "algorithm": "HS256"
        },
        "mfa": {
          "enabled": true,
          "issuer": "Educational Platform"
        },
        "sessionTimeout": "24h",
        "maxLoginAttempts": 5,
        "lockoutDuration": "15m"
      },
      "rateLimit": {
        "windowMs": 900000,
        "max": 100
      },
      "cors": {
        "origins": [
          "https://student.educational-platform.com",
          "https://teacher.educational-platform.com"
        ],
        "credentials": true
      },
      "logging": {
        "level": "info",
        "format": "json"
      }
    }
  
  # Feature flags
  features.json: |
    {
      "oauth": {
        "google": true,
        "microsoft": true,
        "saml": false
      },
      "mfa": {
        "totp": true,
        "sms": false,
        "email": false
      },
      "sessionManagement": {
        "multipleDevices": true,
        "deviceTracking": true
      }
    }
