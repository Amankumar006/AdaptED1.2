apiVersion: v1
kind: ConfigMap
metadata:
  name: user-management-service-config
  namespace: educational-platform
  labels:
    app: user-management-service
    component: backend
data:
  # Application Configuration
  NODE_ENV: "production"
  SERVICE_NAME: "user-management-service"
  SERVICE_VERSION: "1.0.0"
  PORT: "3002"
  
  # Database Configuration
  DB_HOST: "postgres-primary.educational-platform-data"
  DB_PORT: "5432"
  DB_NAME: "educational_platform"
  DB_USERNAME: "postgres"
  DB_POOL_MIN: "2"
  DB_POOL_MAX: "10"
  DB_IDLE_TIMEOUT: "30000"
  DB_CONNECTION_TIMEOUT: "2000"
  
  # Redis Configuration
  REDIS_HOST: "redis.educational-platform-data"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  REDIS_KEY_PREFIX: "user:"
  REDIS_TTL: "3600"
  
  # Security Configuration
  RATE_LIMIT_WINDOW: "900000"  # 15 minutes
  RATE_LIMIT_MAX: "100"
  JWT_EXPIRES_IN: "24h"
  BCRYPT_ROUNDS: "12"
  
  # OpenTelemetry Configuration
  ENABLE_TRACING: "true"
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.educational-platform-monitoring:4318"
  
  # CORS Configuration
  ALLOWED_ORIGINS: "http://localhost:3000,http://localhost:5173"
  
  # Logging
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: user-management-service-feature-flags
  namespace: educational-platform
  labels:
    app: user-management-service
    component: backend
data:
  # Feature Flags
  ENABLE_USER_PROFILE_PICTURES: "true"
  ENABLE_ORGANIZATION_HIERARCHY: "true"
  ENABLE_ROLE_BASED_ACCESS: "true"
  ENABLE_USER_ACTIVITY_TRACKING: "true"
  ENABLE_ADVANCED_SEARCH: "false"
  ENABLE_BULK_OPERATIONS: "true"
  ENABLE_USER_DEACTIVATION: "true"
  ENABLE_PASSWORD_COMPLEXITY: "true"
  ENABLE_SESSION_MANAGEMENT: "true"
  ENABLE_AUDIT_LOGGING: "true"
